@model muscshop.Models.Album

@{
    ViewBag.Title = "Create new";

    var genres = (SelectList)ViewBag.GenreId;
    var artists = (SelectList)ViewBag.ArtistId;
}


<h2>Create new</h2>
@{
    var errors = ViewBag.ErrorList as List<KeyValuePair<string, ModelState>>;
}

@using (Html.BeginForm("Create", "StoreManager", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="row">
        <div class="col-md-6">
            <div class="form-horizontal">

                <div class="form-group">
                    @Html.Label("Artist", new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DropDownList("ArtistId", artists, new { @class = "form-control" })
                        <br>
                        <button type="button" class="btn" data-toggle="modal" data-target="#myModal">Add New Artist</button>
                    </div>
                </div>
                <div class="form-group">
                    @Html.Label("Genre", new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DropDownList("GenreId", genres, new { @class = "form-control" })
                        <br>
                        @*@Html.ActionLink("Add Genre", "AddGenres", "StoreManager")*@
                        <button type="button" class="btn" data-toggle="modal" data-target="#myModal1">Add New Genre</button>
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.Price, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Price, new { HtmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.Title, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Title, new { HtmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.ReleaseYear, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.ReleaseYear, new { HtmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.ReleaseYear, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.Description, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Description, new { HtmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="SAVE" class="btn btn-danger" />
                    </div>
                </div>
            </div>
        </div>


        <div class="col-md-6">
            <div class="form-group">
                @Html.LabelFor(model => model.AlbumUrl, new { @class = "control-label col-md-2" })
                <div class="col-md-10 add-picture">
                    <img id="albpreviewphoto" src="@Url.Content(Model.AlbumUrl)" style="width:220px" />
                    <input id="albinputphoto" style="margin-top: 10px" type="file" name="Photo" />

                    @*@Html.EditorFor(model => model.AlbumUrl, new { HtmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.AlbumUrl, "", new { @class = "text-danger" })*@
                </div>
            </div>
        </div>


    </div>


}

<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add Artist</h4>
            </div>
            <div class="modal-body">
                @{ 
                    Html.RenderAction("AddArtists1");
                }
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="myModal1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add Genres</h4>
            </div>
            <div class="modal-body">
                @{
                    Html.RenderAction("AddGenres1");
                }
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>



@section scripts
{
 
    <script src="~/Scripts/myscripts/musicshopscript.js"></script>

}

